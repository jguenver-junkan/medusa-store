import{I as x}from"./chunk-MGVDXIFX-CyNrhaXd.js";import{S as d}from"./chunk-LFLGEXIG-xooYT8B7.js";import{T as c}from"./chunk-2RQLKDBF-V0vRnTD9.js";import{e7 as v,j as t,q as j,R as f,d as p,e8 as y,a as _,S as b,d9 as h,s as S,b as I,aS as g,H as w,A as q}from"./index-oLtKV1Ux.js";import{P as k}from"./pencil-square-C8ZH4Ygr.js";import{C as D}from"./container-OlDu1QSq.js";import"./Trans-BliKkizb.js";import"./x-mark-mini-CknGqCj5.js";import"./check-B8tGs9E9.js";var G=i=>{var r,s;const{id:n}=i.params||{},{reservation:e}=v(n,void 0,{initialData:i.data,enabled:!!n});if(!e)return null;const l=((r=e==null?void 0:e.inventory_item)==null?void 0:r.title)??((s=e==null?void 0:e.inventory_item)==null?void 0:s.sku)??e.id;return t.jsx("span",{children:l})},P=i=>({queryKey:h.detail(i),queryFn:async()=>S.admin.reservation.retrieve(i)}),H=async({params:i})=>{const n=i.id,e=P(n);return j.ensureQueryData(e)},R=({reservation:i})=>{const{t:n}=I(),{inventory_item:e,isPending:l}=y(i.inventory_item_id),{stock_location:r,isPending:s}=g(i.location_id);if(l||!e||s||!r)return t.jsx("div",{children:"Loading..."});const a=e.location_levels.find(o=>o.location_id===i.location_id);return t.jsxs(D,{className:"divide-y p-0",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[t.jsx(w,{children:n("inventory.reservation.header",{itemName:e.title??e.sku})}),t.jsx(q,{groups:[{actions:[{icon:t.jsx(k,{}),label:n("actions.edit"),to:"edit"}]}]})]}),t.jsx(d,{title:n("inventory.reservation.lineItemId"),value:i.line_item_id}),t.jsx(d,{title:n("inventory.reservation.description"),value:i.description}),t.jsx(d,{title:n("inventory.reservation.location"),value:r==null?void 0:r.name}),t.jsx(d,{title:n("inventory.reservation.inStockAtLocation"),value:a==null?void 0:a.stocked_quantity}),t.jsx(d,{title:n("inventory.reservation.availableAtLocation"),value:a==null?void 0:a.available_quantity}),t.jsx(d,{title:n("inventory.reservation.reservedAtLocation"),value:a==null?void 0:a.reserved_quantity})]})},J=()=>{var m,u;const{id:i}=f(),n=p(),{reservation:e,isLoading:l,isError:r,error:s}=v(i,void 0,{initialData:n}),{inventory_item:a}=y((m=e==null?void 0:e.inventory_item)==null?void 0:m.id,void 0,{enabled:!!((u=e==null?void 0:e.inventory_item)!=null&&u.id)}),{getWidgets:o}=_();if(l||!e)return t.jsx(b,{mainSections:1,sidebarSections:1,showJSON:!0,showMetadata:!0});if(r)throw s;return t.jsxs(c,{widgets:{before:o("reservation.details.before"),after:o("reservation.details.after"),sideBefore:o("reservation.details.side.before"),sideAfter:o("reservation.details.side.after")},data:e,showJSON:!0,showMetadata:!0,children:[t.jsx(c.Main,{children:t.jsx(R,{reservation:e})}),t.jsx(c.Sidebar,{children:a&&t.jsx(x,{inventoryItem:a})})]})};export{G as Breadcrumb,J as Component,H as loader};
